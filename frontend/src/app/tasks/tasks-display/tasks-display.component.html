<div class="container" id="accordion">
  <div class="row">
    <div class="col-sm-12">
      <div class="btn-group btn-group-toggle" ngbRadioGroup id="filterBy" name="filterBy" [(ngModel)]="filterBy"
        (ngModelChange)="filterTasks()">
        <label ngbButtonLabel class="btn filterBtn">
          <input ngbButton type="radio" value="all"> All
        </label>
        <label ngbButtonLabel class="btn filterBtn">
          <input ngbButton type="radio" value="rejected"> Rejected
        </label>
        <label ngbButtonLabel class="btn filterBtn">
          <input ngbButton type="radio" value="pending"> Pending Approval
        </label>
        <label ngbButtonLabel class="btn filterBtn">
          <input ngbButton type="radio" value="incomplete"> Incomplete
        </label>
        <label ngbButtonLabel class="btn filterBtn">
          <input ngbButton type="radio" value="overdue"> Overdue
        </label>
      </div>
    </div>
  </div>

  <hr>

  <div *ngIf="filteredTasks?.length == 0">
    <div class="alert alert-primary" role="alert">
      No tasks to display
    </div>
  </div>

  <div *ngIf="filteredTasks?.length > 0">
    <div *ngFor="let task of filteredTasks; let i = index;" class="card">
      <div class="card-header" id="heading">
        <h5 class="mb-0">
          <button class="btn btn-link" data-toggle="collapse" attr.data-target="#collapse{{i}}" aria-expanded="true"
            attr.aria-controls="collapse{{i}}">
            {{task?.taskTitle}}
          </button>
          <fa-icon *ngIf="!isWithinDeadline(task.deadline)" id="deadlineWarning" [icon]="faExclamationTriangle" size="mde"></fa-icon>
          <button *ngIf="task.status == 'incomplete'" class="btn btn-success btn-sm float-right">Submit for Approval</button>
          <button *ngIf="task.status == 'incomplete'" class="btn btn-dark btn-sm float-right">Add Note</button>
          <button *ngIf="task.status == 'rejected'" class="btn btn-primary btn-sm float-right">Resubmit</button>
          <button *ngIf="task.status == 'pending'" class="btn btn-light btn-sm float-right" [disabled]="true">Pending
            Approval</button>
        </h5>
      </div>

      <div id="collapse{{i}}" class="collapse" attr.aria-labelledby="heading{{i}}" data-parent="#accordion">
        <div class="card-body">
          <b>{{task?.taskDescript}}</b>
          <hr />
          <i>Assigned by: {{task.assigneeID}}</i>
          <div></div>
          <i>Due by: {{task.deadline | date}}</i>
        </div>
      </div>
    </div>
  </div>

  <hr>
</div>
